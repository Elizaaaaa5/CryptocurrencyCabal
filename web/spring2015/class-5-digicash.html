<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Class 5: DigiCash
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bitcoin Class taught at University of Virginia">
    <meta name="keywords" content="bitcoin,cryptocurrency,class,bitcoin mining,cryptocurrency course, bitcoin course, bitcoin class">
    <meta name="author" content="David Evans">
    <link rel="icon" type="image/png" href="http://www.rust-class.org/static/images/logo.png" />  
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>

    <!-- Le styles -->
    <link rel="stylesheet" href="http://bitcoin-class.org/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
     .about {
        font-size: 8pt;
        font-color: "gray";
     }
    </style>
    <link href="http://bitcoin-class.org/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="http://bitcoin-class.org/theme/css/font-awesome.css" rel="stylesheet">

    <link href="http://bitcoin-class.org/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="http://bitcoin-class.org/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="http://bitcoin-class.org/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://bitcoin-class.org/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://bitcoin-class.org/theme/images/apple-touch-icon-114x114.png">

    <link href="http://bitcoin-class.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Cryptocurrency Cafe ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="http://bitcoin-class.org/index.html">Cryptocurrency Cafe </a>
          <div class="nav-collapse">
            <ul class="nav">
                  <li><a href="/pages/classes.html"><b>Classes</b></a></li>
                  <li><a href="/">&middot</a></li>
                  <li><a href="/pages/forum.html"><b>Forum</b></a></li>
                  <li><a href="/">&middot</a></li>
                  <li><a href="/pages/ps0.html">PS0</a></li>
                  <li><a href="/pages/project1.html">Project 1</a></li>
                  <li><a href="/pages/project2.html">Project 2</a></li>
                  <li><a href="/pages/final-projects.html"><b>Final Projects</b></a></li>
                  <li><a href="/">&middot</a></li>
                  <li><a href="/pages/resources.html"><b>Resources</b></a></li>

                          <ul class="nav pull-right">
                                <li><a href="http://bitcoin-class.org/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
<section id="content">
        <article>
                <header>
<div class="whighlight">This is the archived Spring 2015 version of the course.  For the most recent version, see <a href="http://bitcoin-class.org">http://bitcoin-class.org</a>.</div>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to Class 5: DigiCash">
                                        Class 5: DigiCash
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="quietlabel">Posted: </span>
<abbr class="published" title="2015-01-28T00:00:00-05:00">
    Wed 28 January 2015
</abbr>
<!-- <span class="quietlabel">by</span>
<a href="http://bitcoin-class.org/author/david-evans.html">David Evans</a>
-->
<!--
<span class="label">Category</span>
<a href="http://bitcoin-class.org/category/class5.html"><i class="icon-folder-open"></i>class5</a>.
-->

<!--
-->
</footer><!-- /.post-info -->                </div>
                <p><div class="phighlight">
   <a href="http://bitcoin-class.org/classes/class5/class5.pdf">PDF version for printing</a>
   </div></p>
<h2>Schedule</h2>
<p><div class="todo">
<a href="http://bitcoin-class.org/pages/project1.html">Project 1</a> is due <strong>Friday, 30 January</strong> (11:59pm).</p>
<p><strong>Upcoming office hours:</strong>  Thursday 4-5pm (Dave, Rice 507); Friday (Nick, noon-2pm in Hackcville).
   </div></p>
<p><center> 
<iframe src="//www.slideshare.net/slideshow/embed_code/44010587" width="476" height="400" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe><br>
<div class="caption">Note: due to a bug in
slideshare's updated player, ink markings no longer appear in the
viewer.  <br>If you download the slides, they are present though.
Hopefully, the player will be fixed someday. </div>
</center></p>
<h2>Cryptographic Hash Functions</h2>
<p>A <em>cryptographic hash function</em>, <span class="math"><em>H</em>(<em>x</em>)</span>, must satisfy these two properties:</p>
<ul>
<li><strong>one-way</strong> (preimage resistance): given <span class="math"><em>h</em>= <em>H</em>(<em>x</em>)</span> it is hard to find preimage <span class="math"><em>x</em></span>.</li>
<li><strong>strong collision-resistance</strong>: hard to find any pair <span class="math"><em>x</em></span> and <span class="math"><em>y</em></span> where <span class="math"><em>H</em>(<em>x</em>) = <em>H</em>(<em>y</em>)</span></li>
</ul>
<p>If we use SHA-256 for <span class="math"><em>H</em></span>, how many 258-bit
messages would be expected to hash to a given value <span
class="math"><em>x</em></span>?
<div class="gap"></p>
</div>

<h2>Signing Message Digests</h2>
<p><strong>Sign:</strong> Sign(<span class="math">m</span>) = <span class="math"><em>E</em>(<em>KR</em><sub>A</sub>, <em>H</em>(<em>m</em>))</span></p>
<p>Given <span class="math"><em>KU</em><sub>A</sub></span>, <span
class="math"><em>m</em></span>, and <span class="math"><em>S</em></span>, how does Bob
verify that <span class="math"><em>S</em></span> is a valid signature from
Alice for <span class="math"><em>m</em></span>?</p>
<div class="gap">

</div>

<p>A bitcoin address for public key <em>K</em> is RIPEMD160(SHA256(<em>K</em>)) where both
RIPEMD160 and SHA256 are cryptographic hash functions.  </p>
<p>Is this more or less secure than just using <em>K</em>?<br />
<div class="gap"></p>
</div>

<p>Suppose someone finds a way to find collisions for RIPEMD160.  How
serious of a risk would this pose to bitcoin?<br />
<div class="gap"></p>
</div>

<p>Suppose someone finds a way to find preimages for RIPEMD160.  How
serious of a risk would this pose to bitcoin?
<div class="gap"></p>
</div>

<h2>Untraceable Electronic Cash</h2>
<p><a href="https://www.fdic.gov/bank/individual/failed/hightrust.html">High Trust Bank</a> must be trusty!</p>
<p>David Chaum, Amos Fiat, and Moni Naor.  <a href="http://bitcoin-class.org/classes/class5/ecash.pdf"><em>Untraceable Electronic
Cash</em></a>.  CRYPTO 1988.</p>
<p><strong>Simple RSA Signatures</strong><br />
Public Key = <span class="math">(<em>e</em>, <em>n</em>)</span>
Private Key = <span class="math"><em>d</em></span></p>
<p>Identity: <span class="math"><em>M</em><sup><em>de</em></sup> = <em>M</em> mod <em>n</em></span></p>
<p><span class="math">Sign(<em>m</em>) = <em>m</em><sup><em>d</em></sup> mod <em>n</em></span></p>
<p><strong>Blind Signatures</strong>
Alice picks random <span class="math"><em>k</em></span> in <span class="math">[1, <em>n</em>)</span><br />
<span class="math"><em>t</em> = <em>mk</em><sup><em>e</em></sup> mod <em>n</em></span><br />
Sends <span class="math"><em>t</em></span> to signer.</p>
<p>Signer returns <span class="math"><em>t</em><sup><em>d</em></sub></span>.</p>
<p>Signer returns <span class="math"><em>t</em><sup><em>d</em></sup></span>.</p>
<p><span class="math"><em>t</em><sup><em>d</em></sup> = (<em>mk</em><sup><em>e</em></sup> mod <em>n</em>)<sup><em>d</em></sup> mod <em>n</em></span><br />
&nbsp;&nbsp;&nbsp; <span class="math">= <em>m</em><sup><em>d</em></sup><em>k</em><sup><em>ed</em></sup> mod <em>n</em></span><br />
&nbsp;&nbsp;&nbsp; <span class="math">= <em>m</em><sup><em>d</em></sup><em>k</em> mod <em>n</em></span>  </p>
<p>Dividing by <span class="math"><em>k</em></span> gives <span class="math">Sign(<em>m</em>) = <em>m</em><sup><em>d</em></sup> mod <em>n</em></span>.</p>
<p>What should a signer know before signing a random-looking string?
<div class="gap"></p>
<h1></h1>
<h1></h1>
</div>

<p><strong>Cut-and-Choose</strong></p>
<p>Suppose Alice sends 256 copies and the Bank checks 255 of them.  What is the probability Alice can cheat without getting caught?
<div class="gap"></p>
<h1></h1>
</div>

<p>What should the maximimum bill size be to prevent cheating?
<div class="gap"></p>
<h1></h1>
</div>

<h3>Identity Strings</h3>
<p><em>I</em> = "alice@alice.org"  </p>
<p><span class="math"><em>M</em><sub><em>i</em></sub></span> = "Bill #[r<sub>i</sub>] : Bearâ€™s Turns Bank owes the holder of this message $100."<br />
&nbsp;&nbsp;&nbsp; + identity strings:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="math"><em>I</em><sub>1</sub> = (<em>h</em>(<em>I</em><sub>1L</sub>), <em>h</em>(<em>I</em><sub>1R</sub>)), ..., <em>I</em><sub><em>n</em></sub> = (<em>h</em>(<em>I</em><sub>nL</sub>), <em>h</em>(<em>I</em><sub>nR</sub>))</span><br />
&nbsp;&nbsp;&nbsp; where <span class="math"><em>h</em></span> is a one-way hash function and each <span class="math"><em>I</em><sub>iL</sub> &oplus; <em>I</em><sub>iR</sub> = <em>I</em></span> (but <span class="math"><em>I</em><sub>iL</sub> is choosen randomly).</p>
<p>To spend a bill, the reciever chooses either L or R for each pair for spender to open.</p>
<p>What is the probability Alice can spend a bill twice without revealing her identity?
<div class="gap"></p>
<h1></h1>
</div>

<p><a href="http://globalcryptonews.com/before-bitcoin-the-rise-and-fall-of-digicash/">Before Bitcoin: The Rise and Fall of DigiCash</a></p>
<blockquote>
<p><em>By all accounts Chaum was a charismatic leader with an interesting management style, but he refused to compromise his artistic vision in any area against the best advice of his employees. He was suspicious of everyone and 'paranoid' with a habit of suddenly changing his mind without warning. At one time, Microsoft had offered DigiCash $180 million to allow them to preinstall Ecash software on Windows computers and the deal was on the verge of completion, but Chaum suddenly decided that his product was worth more and the deal collapsed. If the deal had gone through, cryptocurrency would now be as ubiquitous as Internet Explorer.</em></p>
</blockquote>
                </div><!-- /.entry-content -->
                <div class="comments">
                <h2>Comments</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                           var disqus_identifier = "class-5-digicash.html";
                           (function() {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript'; dsq.async = true;
                                dsq.src = 'http://bitcoin-class.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] ||
                                 document.getElementsByTagName('body')[0]).appendChild(dsq);
                          })();
                        </script>
                </div>
        </article>
</section>

<script type="text/javascript">
    var disqus_shortname = 'bitcoin-class';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script>

      <hr>

      <footer>
	<div id="footer">
        <address id="about">
          <a href="/">Cryptocurrency Cafe</a>, Spring 2015<br>      
          <a href="http://www.cs.virginia.edu">University of Virginia Computer Science</a><br>
	  <p align="right"><font color="grey" size="-2"> Site built using <a href="http://pelican.notmyidea.org/">Pelican</a>.  Theme uses <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome</a>.</p>
        </address><!-- /#about -->
	</div>
      </footer>

    </div><!--/.fluid-container-->


<script type="text/javascript">

var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-3775212-12']);
_gaq.push(['_setDomainName', 'bitcoin-class.org']);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript';
  ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 
  'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s);
})();

</script>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://bitcoin-class.org/theme/js/jquery-1.7.2.min.js"></script>
    <script src="http://bitcoin-class.org/theme/js/bootstrap.min.js"></script>
  </body>
</html>