<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Classes on Cryptocurrency Cabal</title>
    <link>http://bitcoin-class.org/classes/</link>
    <description>Recent content in Classes on Cryptocurrency Cabal</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 16 Nov 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://bitcoin-class.org/classes/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Class 23: Before (and Beyond) Bitcoin</title>
      <link>http://bitcoin-class.org/classes/class23/</link>
      <pubDate>Mon, 16 Nov 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class23/</guid>
      <description>

&lt;h2 id=&#34;schedule:5745b40601045f50f1418eebe2f9ce59&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Starting Wednesday and every following class&lt;/strong&gt;: Be prepared to give an
  elevator pitch for your project.  Your pitch should be no more than 2
  minutes long.  You may use visuals as long as you can obtain them by
  (quickly) entering a URL in a web browser.  Your pitch should get
  across in a convincing and engaging way:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The purpose of your project (what problem are you solving)&lt;/li&gt;
&lt;li&gt;What you are actually doing&lt;/li&gt;
&lt;li&gt;Why we should care&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Monday, 23 November&lt;/strong&gt; (8:29pm): Project Progress Reports.  Send an
  email to
  &lt;a href=&#34;mailto:ccc-staff@cs.virginia.edu&#34;&gt;ccc-staff@cs.virginia.edu&lt;/a&gt;, cc-ing
  all members of your project team.  The email should have a subject
  line, &lt;code&gt;Project:&lt;/code&gt;&lt;em&gt;Title&lt;/em&gt;, with your project title.  Its body should contain at least this information:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;A link to the website for your project (this could be a github page
if you want).  That site should have a front page that describes your
project, lists the team members, and provides more information about
your project.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;A short paragraph explaining how your project has changed since the
preliminary proposal email.  This should explain if the goals of your
project have changed and why.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;A description of what progress you have made on your project.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;A description of what you plan to do to complete your project, and
your plans for doing this.  If you have a multi-person team, this should
include an explanation of how your team is working together and who is
doing what.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;(optional) Any questions you have for us.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;addendum:5745b40601045f50f1418eebe2f9ce59&#34;&gt;Addendum&lt;/h3&gt;

&lt;p&gt;Vignesh raised a really good point about Chaum&amp;rsquo;s scheme which I
misunderstood in class until he clarified it after, so I&amp;rsquo;m posting an
explanation here.&lt;/p&gt;

&lt;p&gt;The issue he noticed is that if the bank knows all the possible &lt;em&gt;I&lt;/em&gt;
values (all the customer identities), and receives one of the identity
split perimages, e.g., &lt;span class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1L&lt;/sub&gt;&lt;/span&gt;, then
the bank can search through all the identities to find an &lt;span
class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1R&lt;/sub&gt;&lt;/span&gt; such that &lt;span
class=&#34;math&#34;&gt;&lt;em&gt;h&lt;/em&gt;(&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1R&lt;/sub&gt;)&lt;/span&gt; matches the hash value.  This
is done by just xor-ing all the &lt;em&gt;I&lt;/em&gt; values with &lt;span
class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1L&lt;/sub&gt;&lt;/span&gt; to find a guess for &lt;span
class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1R&lt;/sub&gt;&lt;/span&gt;, and then computing the hash to
check if it is the right one.  As I presented the scheme, this would be
a big vulnerability!  It violates the desired property that the bill
spender&amp;rsquo;s anonymity is protected (even from the bank) unless she
attempts to spend the bill twice.&lt;/p&gt;

&lt;p&gt;To defeat this, we need to ensure that the set of possible &lt;em&gt;I&lt;/em&gt; values is
not known (even to the bank).  One way to do this would be to add some
randomness in the &lt;em&gt;I&lt;/em&gt; values used in the generated banknotes used in the
cut-and-choose for the blind signatures.  Each note with have a
different &lt;em&gt;I&lt;/em&gt;, but one the bank can verify is still the right account
owner.  I&amp;rsquo;ll leave the details of how to do this as a challenge problem.&lt;/p&gt;

&lt;h2 id=&#34;notes:5745b40601045f50f1418eebe2f9ce59&#34;&gt;Notes&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.fdic.gov/bank/individual/failed/hightrust.html&#34;&gt;High Trust Bank&lt;/a&gt; must be trusty!&lt;/p&gt;

&lt;p&gt;David Chaum, Amos Fiat, and Moni Naor.  &lt;a href=&#34;http://bitcoin-class.org/classes/ecash.pdf&#34;&gt;&lt;em&gt;Untraceable Electronic
Cash&lt;/em&gt;&lt;/a&gt;.  CRYPTO 1988.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Simple RSA Signatures&lt;/strong&gt;&lt;br /&gt;
Public Key = &lt;span class=&#34;math&#34;&gt;(&lt;em&gt;e&lt;/em&gt;, &lt;em&gt;n&lt;/em&gt;)&lt;/span&gt;
Private Key = &lt;span class=&#34;math&#34;&gt;&lt;em&gt;d&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Identity: &lt;span class=&#34;math&#34;&gt;&lt;em&gt;M&lt;/em&gt;&lt;sup&gt;&lt;em&gt;de&lt;/em&gt;&lt;/sup&gt; = &lt;em&gt;M&lt;/em&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&#34;math&#34;&gt;Sign(&lt;em&gt;m&lt;/em&gt;) = &lt;em&gt;m&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Blind Signatures&lt;/strong&gt;
Alice picks random &lt;span class=&#34;math&#34;&gt;&lt;em&gt;k&lt;/em&gt;&lt;/span&gt; in &lt;span class=&#34;math&#34;&gt;[1, &lt;em&gt;n&lt;/em&gt;)&lt;/span&gt;&lt;br /&gt;
&lt;span class=&#34;math&#34;&gt;&lt;em&gt;t&lt;/em&gt; = &lt;em&gt;mk&lt;/em&gt;&lt;sup&gt;&lt;em&gt;e&lt;/em&gt;&lt;/sup&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;&lt;br /&gt;
Sends &lt;span class=&#34;math&#34;&gt;&lt;em&gt;t&lt;/em&gt;&lt;/span&gt; to signer.&lt;/p&gt;

&lt;p&gt;Signer returns &lt;span class=&#34;math&#34;&gt;&lt;em&gt;t&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sub&gt;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Signer returns &lt;span class=&#34;math&#34;&gt;&lt;em&gt;t&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&#34;math&#34;&gt;&lt;em&gt;t&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt; = (&lt;em&gt;mk&lt;/em&gt;&lt;sup&gt;&lt;em&gt;e&lt;/em&gt;&lt;/sup&gt; mod &lt;em&gt;n&lt;/em&gt;)&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;&lt;br /&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class=&#34;math&#34;&gt;= &lt;em&gt;m&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt;&lt;em&gt;k&lt;/em&gt;&lt;sup&gt;&lt;em&gt;ed&lt;/em&gt;&lt;/sup&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;&lt;br /&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class=&#34;math&#34;&gt;= &lt;em&gt;m&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt;&lt;em&gt;k&lt;/em&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Dividing by &lt;span class=&#34;math&#34;&gt;&lt;em&gt;k&lt;/em&gt;&lt;/span&gt; gives &lt;span class=&#34;math&#34;&gt;Sign(&lt;em&gt;m&lt;/em&gt;) = &lt;em&gt;m&lt;/em&gt;&lt;sup&gt;&lt;em&gt;d&lt;/em&gt;&lt;/sup&gt; mod &lt;em&gt;n&lt;/em&gt;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;What should a signer know before signing a random-looking string?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Cut-and-Choose&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Suppose Alice sends 256 copies and the Bank checks 255 of them.  What is the probability Alice can cheat without getting caught?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;What should the maximimum bill size be to prevent cheating?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;h3 id=&#34;identity-strings:5745b40601045f50f1418eebe2f9ce59&#34;&gt;Identity Strings&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;I&lt;/em&gt; = &amp;ldquo;alice@alice.org&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;span class=&#34;math&#34;&gt;&lt;em&gt;M&lt;/em&gt;&lt;sub&gt;&lt;em&gt;i&lt;/em&gt;&lt;/sub&gt;&lt;/span&gt; = &amp;ldquo;Bill #[r&lt;sub&gt;i&lt;/sub&gt;] : Bearâ€™s Turns Bank owes the holder of this message $100.&amp;rdquo;&lt;br /&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; + identity strings:
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1&lt;/sub&gt; = (&lt;em&gt;h&lt;/em&gt;(&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1L&lt;/sub&gt;), &lt;em&gt;h&lt;/em&gt;(&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;1R&lt;/sub&gt;)), &amp;hellip;, &lt;em&gt;I&lt;/em&gt;&lt;sub&gt;&lt;em&gt;n&lt;/em&gt;&lt;/sub&gt; = (&lt;em&gt;h&lt;/em&gt;(&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;nL&lt;/sub&gt;), &lt;em&gt;h&lt;/em&gt;(&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;nR&lt;/sub&gt;))&lt;/span&gt;&lt;br /&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp; where &lt;span class=&#34;math&#34;&gt;&lt;em&gt;h&lt;/em&gt;&lt;/span&gt; is a one-way hash function and each &lt;span class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;iL&lt;/sub&gt; &amp;oplus; &lt;em&gt;I&lt;/em&gt;&lt;sub&gt;iR&lt;/sub&gt; = &lt;em&gt;I&lt;/em&gt;&lt;/span&gt; (but &lt;span class=&#34;math&#34;&gt;&lt;em&gt;I&lt;/em&gt;&lt;sub&gt;iL&lt;/sub&gt; is choosen randomly).&lt;/p&gt;

&lt;p&gt;To spend a bill, the reciever chooses either L or R for each pair for spender to open.&lt;/p&gt;

&lt;p&gt;What is the probability Alice can spend a bill twice without revealing her identity?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://globalcryptonews.com/before-bitcoin-the-rise-and-fall-of-digicash/&#34;&gt;Before Bitcoin: The Rise and Fall of DigiCash&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;By all accounts Chaum was a charismatic leader with an interesting management style, but he refused to compromise his artistic vision in any area against the best advice of his employees. He was suspicious of everyone and &amp;lsquo;paranoid&amp;rsquo; with a habit of suddenly changing his mind without warning. At one time, Microsoft had offered DigiCash $180 million to allow them to preinstall Ecash software on Windows computers and the deal was on the verge of completion, but Chaum suddenly decided that his product was worth more and the deal collapsed. If the deal had gone through, cryptocurrency would now be as ubiquitous as Internet Explorer.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;links:5745b40601045f50f1418eebe2f9ce59&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;&amp;ldquo;Still think youâ€™re anonymous on the Dark Web?&amp;rdquo;, &lt;a href=&#34;https://twitter.com/NCA_UK/status/530740716134490112&#34;&gt;NCA_UK&amp;rsquo;s tweet&lt;/a&gt;, 7 November 2014&lt;/p&gt;

&lt;p&gt;Sambuddho Chakravarty, Marco V. Barbera, Georgios Portokalidis, Michalis Polychronakis, and Angelos D. Keromytis. &lt;a href=&#34;http://www3.cs.stonybrook.edu/~mikepo/papers/tor-netflow.pam14.pdf&#34;&gt;&lt;em&gt;On the Effectiveness of Traffic Analysis Against Anonymity Networks Using Flow Records&lt;/em&gt;&lt;/a&gt;. &lt;em&gt;Passive and Active Measurement Conference&lt;/em&gt;, March 2014.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://blog.torproject.org/blog/tor-security-advisory-relay-early-traffic-confirmation-attack&#34;&gt;&lt;em&gt;Tor security advisory: &amp;ldquo;relay early&amp;rdquo; traffic confirmation attack&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 21: Ombuds!</title>
      <link>http://bitcoin-class.org/classes/class21/</link>
      <pubDate>Mon, 09 Nov 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class21/</guid>
      <description>&lt;p&gt;The slides from Nick Skelsey and Alex Kuck&amp;rsquo;s presentation about
&lt;a href=&#34;http://www.getombuds.org&#34;&gt;ombuds&lt;/a&gt; are here: &lt;a href=&#34;./classes/Crypto-Cabal-L21.pdf&#34;&gt;&lt;em&gt;Scaling Bitcoin and &lt;strike&gt;Web&lt;/strike&gt; &lt;strike&gt;Bitcoin&lt;/strike&gt; Blockchain 2.0&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 20: Hidden Services, Zero Knowledge</title>
      <link>http://bitcoin-class.org/classes/class20/</link>
      <pubDate>Wed, 04 Nov 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class20/</guid>
      <description>

&lt;h2 id=&#34;schedule-updates:dcf75d114d0b27f85507ff1ab741294c&#34;&gt;Schedule Updates&lt;/h2&gt;

&lt;p&gt;Monday&amp;rsquo;s class will be a visit from Nick Skelsey and Alex Kuck of
&lt;a href=&#34;https://getombuds.org/&#34;&gt;Ombuds&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/ps/ps3&#34;&gt;Problem Set 3&lt;/a&gt; is due Sunday, 8
November (8:29pm).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Project Pre-Proposal: Friday, November 13&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/9GfuOmKto4Pnb1&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;
   &lt;div class=&#34;caption&#34;&gt;
&lt;a href=&#34;http://bitcoin-class.org/classes/class20-post.pptx&#34;&gt;Download slides (with annotations)&lt;/a&gt;
   &lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;links:dcf75d114d0b27f85507ff1ab741294c&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;Roger Dingledine, Nick Mathewson, Paul Syverson. &lt;a href=&#34;https://svn.torproject.org/svn/projects/design-paper/tor-design.pdf&#34;&gt;&lt;em&gt;Tor: The Second-Generation Onion Router&lt;/em&gt;&lt;/a&gt;.   USENIX Security Symposium 2004.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.unitedstatescourts.org/federal/nysd/422824/&#34;&gt;Documents from Ross Ulbright case&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;|filename|./fbi.pdf&#34;&gt;&lt;em&gt;Declaration of Christopher Tarbell&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://antilop.cc/sr/files/2015_03_06_ULBRICHT_motion_new_trial.pdf&#34;&gt;Motion from 6 March&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://s3.amazonaws.com/s3.documentcloud.org/documents/2086668/gov-uscourts-nysd-422824-251-1.pdf&#34;&gt;Ross Ulbricht&amp;rsquo;s Letter to Judge Forrest&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 19: Anonymity in Bitcoin</title>
      <link>http://bitcoin-class.org/classes/class19/</link>
      <pubDate>Mon, 02 Nov 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class19/</guid>
      <description>

&lt;h2 id=&#34;schedule-updates:90174cd8255fa2ab935573c4a489ebf1&#34;&gt;Schedule Updates&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/ps/ps3&#34;&gt;Problem Set 3&lt;/a&gt; is due Sunday, 8
November (8:29pm).  Readings for PS3:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/docs/princeton-book/chapter_6.pdf&#34;&gt;&lt;em&gt;Chapter 6: Bitcoin and Anonymity&lt;/em&gt;&lt;/a&gt;,
from Arvind Narayanan, Joseph Bonneau, Edward Felten, Andrew Miller,
Steven Goldfeder. &lt;a href=&#34;https://piazza.com/princeton/spring2015/btctech/resources&#34;&gt;&lt;em&gt;Bitcoin and Cryptocurrency
Technologies&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://conferences2.sigcomm.org/imc/2013/papers/imc182-meiklejohnA.pdf&#34;&gt;&lt;em&gt;A Fistful of Bitcoins: Characterizing Payments among Men (sic) with No Names&lt;/em&gt;&lt;/a&gt; by Sarah Meiklejohn, Marjori Pomarole, Grant Jordan, Kirill Levchenko, Damon McCoy, Geoffrey M. Voelker, and Stefan Savage.  &lt;em&gt;Internet Measurement Conference&lt;/em&gt;, 2013.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Project Pre-Proposal: Friday, November 13&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/r8z63ObiqE9jD7&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;
   &lt;div class=&#34;caption&#34;&gt;
&lt;a href=&#34;http://bitcoin-class.org/classes/class19-post.pptx&#34;&gt;Download slides (with annotations)&lt;/a&gt;
   &lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;links:90174cd8255fa2ab935573c4a489ebf1&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;Dorit Ron and Adi Shamir. &lt;a href=&#34;http://cryptome.org/2013/11/bitcoin-pirate-nakamoto.pdf&#34;&gt;&lt;em&gt;How Did Dread Pirate Roberts Acquire and Protect His Bitcoin Wealth?&lt;/em&gt;&lt;/a&gt;. Cryptology ePrint &lt;sup&gt;2013&lt;/sup&gt;&amp;frasl;&lt;sub&gt;782&lt;/sub&gt;.  23 November 2013.  &lt;a href=&#34;https://www.reddit.com/r/Bitcoin/comments/1reuwq/vigorous_debate_over_shamirrons_supposedly/&#34;&gt;Reddit Discussion&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Dustin Trammell. &lt;a href=&#34;http://blog.dustintrammell.com/2013/11/26/i-am-not-satoshi/&#34;&gt;&lt;em&gt;I Am Not Satoshi&lt;/em&gt;&lt;/a&gt;. 26 November 2013.&lt;/p&gt;

&lt;p&gt;Roger Dingledine, Nick Mathewson, Paul Syverson. &lt;a href=&#34;https://svn.torproject.org/svn/projects/design-paper/tor-design.pdf&#34;&gt;&lt;em&gt;Tor: The Second-Generation Onion Router&lt;/em&gt;&lt;/a&gt;, &lt;a href=&#34;https://www.usenix.org/legacy/event/sec04/&#34;&gt;USENIX Security Symposium 2004&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.torproject.org/&#34;&gt;Tor Project Site&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://metrics.torproject.org/relayflags.html?graph=relayflags&amp;amp;start=2014-01-13&amp;amp;end=2015-04-13&amp;amp;flag=Running&amp;amp;flag=Exit&amp;amp;flag=Fast&amp;amp;flag=Stable&#34;&gt;How many exit nodes?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Nicolas Christin, &lt;a href=&#34;http://arxiv.org/pdf/1207.7139.pdf&#34;&gt;&lt;em&gt;Traveling the Silk Road: A measurement analysis of a large anonymous online marketplace&lt;/em&gt;&lt;/a&gt;. November 2012.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.nytimes.com/2014/01/19/business/eagle-scout-idealist-drug-trafficker.html?_r=0&#34;&gt;&lt;em&gt;Eagle Scout. Idealist. Drug Trafficker?&lt;/em&gt;&lt;/a&gt;, New York Times, 18 Jan 2014.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 18: Confirming the Midterm</title>
      <link>http://bitcoin-class.org/classes/class18/</link>
      <pubDate>Wed, 28 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class18/</guid>
      <description>

&lt;h2 id=&#34;schedule-updates:31a24b707f457b52726ca1d5e1ddffba&#34;&gt;Schedule Updates&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/ps/ps3&#34;&gt;Problem Set 3&lt;/a&gt; is due Sunday, 8
November (8:29pm).  Please don&amp;rsquo;t wait to get started so you have enough
time to do something interesting and valuable for the open-ended
questions.&lt;/p&gt;

&lt;p&gt;There is no Problem Set 4.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Project Pre-Proposal: Friday, November 13&lt;/strong&gt;&lt;br /&gt;
Project Update: Monday, November 23&lt;br /&gt;
Last class: Monday, December 7&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/mGDH0YpBR4iNtn&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;
   &lt;div class=&#34;caption&#34;&gt;
&lt;a href=&#34;http://bitcoin-class.org/classes/class18-post.pptx&#34;&gt;Download slides (with annotations)&lt;/a&gt;
   &lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;links:31a24b707f457b52726ca1d5e1ddffba&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;Simeon-Denis Poisson, &lt;a href=&#34;http://gallica.bnf.fr/ark:/12148/bpt6k110193z/&#34;&gt;&lt;em&gt;Recherches sur la probabilitÃ© des jugements en matiÃ¨re criminelle et en matiÃ¨re civile ; prÃ©cÃ©dÃ©es des RÃ¨gles gÃ©nÃ©rales du calcul des probabilitÃ©s&lt;/em&gt;&lt;/a&gt;, 1837.&lt;/p&gt;

&lt;p&gt;For a more accessible presentation, at least if you don&amp;rsquo;t read French, try: &lt;a href=&#34;http://www.rle.mit.edu/rgallager/documents/6.262lateweb2.pdf&#34;&gt;&lt;em&gt;Poisson Processes&lt;/em&gt;&lt;/a&gt;, Robert Gallager.&lt;/p&gt;

&lt;p&gt;Alan E. Gelfand and Herbert Solomon, &lt;a href=&#34;http://www.jstor.org/stable/pdf/2284062.pdf?acceptTC=true&#34;&gt;&lt;em&gt;A Study of Poisson&amp;rsquo;s Models for Jury Verdicts in Criminal and Civil Trials&lt;/em&gt;&lt;/a&gt;, Journal of the American Statistical Association, 1973.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://blockchain.info/charts/avg-confirmation-time&#34;&gt;Blockchain: Median (?) Confirmation Time&lt;/a&gt; (not sure they understand the difference - URL has &amp;ldquo;avg&amp;rdquo;, title has &amp;ldquo;median&amp;rdquo;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.quandl.com/data/BCHAIN/ATRCT-Bitcoin-Average-Transaction-Confirmation-Time&#34;&gt;quandl.com: Average Confirmation Time&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How do these make sense with what we know about Poisson processes and
bitcoin transactions?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Class 17: Bitcoin and Business</title>
      <link>http://bitcoin-class.org/classes/class17/</link>
      <pubDate>Mon, 26 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class17/</guid>
      <description>&lt;p&gt;Josh Cincinatti, Developer Advocate for BlockCypher (and UVa alum), gave
a presentation on &lt;a href=&#34;https://docs.google.com/presentation/d/12NY2HowHjSA9N0beF6fSAKThAMITOylpc7WONhOUSdk/edit#slide=id.p&#34;&gt;The Budding Business of Bitcoin and BlockCypher: An
Alliterative, Allegorical Adventure into Cryptocurrency&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 16: Midterm</title>
      <link>http://bitcoin-class.org/classes/class16/</link>
      <pubDate>Wed, 21 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class16/</guid>
      <description>&lt;p&gt;Class 16 was the &lt;a href=&#34;http://bitcoin-class.org/midterm.pdf&#34;&gt;Midterm Exam&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 15: Scripting Transactions</title>
      <link>http://bitcoin-class.org/classes/class15/</link>
      <pubDate>Mon, 19 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class15/</guid>
      <description>

&lt;h2 id=&#34;midterm-exam:82758e0aba59693fe0fb1bf5353fa6c7&#34;&gt;Midterm Exam&lt;/h2&gt;

&lt;p&gt;The midterm exam will be in class, &lt;strong&gt;Wednesday, 21
  October&lt;/strong&gt;.  The midterm will be closed-resources, but is meant to test
  understanding, not memorization.&lt;/p&gt;

&lt;p&gt;The midterm covers: Classes 1-15, Checkups 1-2, Problem Sets 1-2, and
  the assigned readings: Chapters 1, 2, 3, and 5 from &lt;a href=&#34;https://piazza.com/princeton/spring2015/btctech/resources&#34;&gt;&lt;em&gt;Bitcoin and
  Cryptocurrency
  Technologies&lt;/em&gt;&lt;/a&gt;;
  Chapters 1, 2, 3, 4, 6, and 7 from &lt;a href=&#34;https://github.com/aantonop/bitcoinbook&#34;&gt;&lt;em&gt;Mastering Bitcoin: Unlocking
  Digital Cryptocurrencies&lt;/em&gt;&lt;/a&gt;;
  Satoshi Nakamoto, &lt;a href=&#34;https://bitcoin.org/bitcoin.pdf&#34;&gt;&lt;em&gt;Bitcoin: A Peer-to-Peer Electronic Cash
  System&lt;/em&gt;&lt;/a&gt;; Ittay Eyal and Emin
  G&amp;uuml;n Sirer, &lt;a href=&#34;http://arxiv.org/pdf/1311.0243v5.pdf&#34;&gt;&lt;em&gt;Majority is not Enough: Bitcoin Mining is
  Vulnerable&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The first two questions on the midterm will ask you to comment on the
  technical validity of some statements in the &lt;a href=&#34;https://www.fas.org/sgp/crs/misc/R43339.pdf&#34;&gt;Congressional Research
  Service report&lt;/a&gt; (in the
  first 8 pages, not the policy issues).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Extra Office Hours.&lt;/strong&gt; There will be some additional office hours this week:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Monday, 5-6:30pm (Ori, Rice 442)&lt;/li&gt;
&lt;li&gt;Tuesday, 2-3:30pm (Dave, Rice 507) &lt;strong&gt;(Added)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Tuesday, 3:30-4:30pm (Samee, Rice 442) &lt;strong&gt;(Added)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Wednesday, 3:30-4:30pm (Samee, Rice 442)&lt;/li&gt;
&lt;li&gt;Thursday, 2:30-3:30 (Dave, Rice 507)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;scripting-transactions:82758e0aba59693fe0fb1bf5353fa6c7&#34;&gt;Scripting Transactions&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/cYC6B2BCdrtoy6&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;caption&#34;&gt;
&lt;a href=&#34;http://bitcoin-class.org/classes/class15-post.pptx&#34;&gt;Download the slides&lt;/a&gt;
   &lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Recall from class 12: Transaction outputs in bitcoin are protected by
&lt;em&gt;locking scripts&lt;/em&gt;, and must be unlocked by &lt;em&gt;unlocking scripts&lt;/em&gt;.  A
transaction output is not unlocked unless an unlocking script is
provided such that the result of executing the unlocking script,
followed by executing the locking script, is a stack with value True on
top.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;OP_IF&lt;/code&gt; &lt;em&gt;statements&lt;/em&gt; &lt;code&gt;OP_ENDIF&lt;/code&gt; - If the top of the stack is &lt;strong&gt;1&lt;/strong&gt;, executes &lt;em&gt;statements&lt;/em&gt;.  Otherwise does nothing.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;OP_CHECKSIG&lt;/code&gt; - Pops two items from the stack, &lt;em&gt;publickey&lt;/em&gt; and &lt;em&gt;sig&lt;/em&gt;.
Verifies the entire transaction (known from node state, not the stack)
using the &lt;em&gt;publickey&lt;/em&gt; and &lt;em&gt;sig&lt;/em&gt;.  If the signature is valid, push &lt;strong&gt;1&lt;/strong&gt;;
otherwise, &lt;strong&gt;0&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;OP_1 OP_DUP OP_ADD OP_DUP OP_SUB OP_VERIFY&lt;/code&gt;
&lt;div class=&#34;gap&#34;&gt;&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The most common locking script (send to public address):&lt;/p&gt;

&lt;p&gt;&lt;code&gt;OP_DUP&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;OP_HASH160&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;OP_DATA20&lt;/code&gt; &lt;em&gt;(bitcoin address)&lt;/em&gt;&lt;br /&gt;
&lt;code&gt;OP_EQUALVERIFY&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;OP_CHECKSIG&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;What must be on the stack for the locking script to succeed (end with &lt;strong&gt;1&lt;/strong&gt; on top of stack)?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;!-- page--&gt;

&lt;p&gt;&lt;code&gt;OP_HASH160&lt;/code&gt;&lt;br /&gt;
&lt;em&gt;20-byte hash&lt;/em&gt;&lt;br /&gt;
&lt;code&gt;OP_EQUAL&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;What must be on the stack for the locking script above (&amp;ldquo;Pay-to-Script-Hash&amp;rdquo;) to succeed?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;According to &lt;a href=&#34;http://www.quantabytes.com/articles/a-survey-of-bitcoin-transaction-types&#34;&gt;Most Popular Transaction
Scripts&lt;/a&gt;
(analysis of all transactions in first 290,000 blocks), the ninth most popular script is:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;OP_RETURN&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;OP_DATA_40&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;What must be on the stack for the &lt;code&gt;OP_RETURN OP_DATA_40&lt;/code&gt; locking script to succeed (end with
&lt;strong&gt;1&lt;/strong&gt; on top of stack)? (Trick question: what happens to the coin
protected by this locking script?)&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;h2 id=&#34;btcd-code:82758e0aba59693fe0fb1bf5353fa6c7&#34;&gt;BTCD Code&lt;/h2&gt;

&lt;p&gt;Type: &lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/script.go#L206&#34;&gt;Script&lt;/a&gt; is the virtual machine the executes scripts (note that it has two Stacks)&lt;/p&gt;

&lt;p&gt;Execute a script: &lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/script.go#L723&#34;&gt;Execute&lt;/a&gt;&lt;br /&gt;
Execute one instruction: &lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/script.go#L782&#34;&gt;Step&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/opcode.go#L38&#34;&gt;Opcodes&lt;/a&gt;: &lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/opcode.go#L971&#34;&gt;exec&lt;/a&gt; function executes one instruction&lt;/p&gt;

&lt;p&gt;Some interesting opcode implementations: &lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/opcode.go#L1143&#34;&gt;OP_IF&lt;/a&gt;, &lt;a href=&#34;https://github.com/btcsuite/btcd/blob/c153596542b3d87dd774c29aa5be5117ac01a234/txscript/opcode.go#L1235&#34;&gt;OP_RETURN&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;bitcoin-core-code:82758e0aba59693fe0fb1bf5353fa6c7&#34;&gt;Bitcoin Core Code&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/bitcoin/bitcoin/blob/41e6e4caba9899ce7c165b0784461c55c867ee24/src/script/interpreter.cpp&#34;&gt;script/interpreter.cpp&lt;/a&gt;, &lt;a href=&#34;https://github.com/bitcoin/bitcoin/blob/41e6e4caba9899ce7c165b0784461c55c867ee24/src/script/interpreter.cpp#L524&#34;&gt;OP_DUP&lt;/a&gt;, &lt;a href=&#34;https://github.com/bitcoin/bitcoin/blob/41e6e4caba9899ce7c165b0784461c55c867ee24/src/script/interpreter.cpp#L752&#34;&gt;Crypto&lt;/a&gt;, &lt;a href=&#34;https://github.com/bitcoin/bitcoin/blob/41e6e4caba9899ce7c165b0784461c55c867ee24/src/script/interpreter.cpp#L785&#34;&gt;OP_CHECKSIG&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;links:82758e0aba59693fe0fb1bf5353fa6c7&#34;&gt;Links&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://www.crmarsh.com/script-playground/&#34;&gt;Script Playground&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some interesting things you can do with bitcoin scripts:&lt;br /&gt;
&lt;a href=&#34;https://en.bitcoin.it/wiki/Contracts&#34;&gt;Contracts&lt;/a&gt; (see also Nick Szabo&amp;rsquo;s &lt;a href=&#34;http://szabo.best.vwh.net/formalize.html&#34;&gt;&lt;em&gt;Formalizing and Securing Relationships on Public Networks&lt;/em&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href=&#34;http://eprint.iacr.org/2013/784&#34;&gt;Secure Multiparty Computations&lt;/a&gt; (to implement lotteries)&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;OP_RETURN&lt;/code&gt;/pasted script execution bug doesn&amp;rsquo;t even make this list of &lt;a href=&#34;http://www.coindesk.com/9-biggest-screwups-bitcoin-history/&#34;&gt;&lt;em&gt;The 9 Biggest Screwups in Bitcoin History&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;!-- [Block 71036](http://blockexplorer.com/rawblock/00000000000997f9fd2fe1ee376293ef8c42ad09193a5d2086dddf8e5c426b56)--&gt;
</description>
    </item>
    
    <item>
      <title>Class 14: FBI Visit</title>
      <link>http://bitcoin-class.org/classes/class14/</link>
      <pubDate>Wed, 14 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class14/</guid>
      <description>

&lt;h2 id=&#34;schedule:69e304a0e65e98722637abe379145c02&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt; &lt;strong&gt;Monday-Wednesday, October &lt;sup&gt;19&lt;/sup&gt;&amp;frasl;&lt;sub&gt;21&lt;/sub&gt;&lt;/strong&gt;: Midterm Exam.
Part of the midterm will be handed out in class on Monday, Oct 19. The
midterm will be in class on Wednesday, October 21.&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Today&amp;rsquo;s class was a visit from Special Agent Jeremy D&amp;rsquo;Errico, Special
Benjamin Blome, David Cochran, and Stuart VonCanon from the Federal
Bureau of Investigation (Richmond Division).&lt;/p&gt;

&lt;p&gt;For Problem Set 3, you will be analyzing the blockchain to understand
transactions involving bitcoin ransomware crimes.  Some links to
relevant posts and papers:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.secureworks.com/cyber-threat-intelligence/threats/cryptowall-ransomware/&#34;&gt;CryptoWall Ransomware&lt;/a&gt;,
Dell SecureWorks Counter Threat, August 2014.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.cylance.com/tearing-down-cryptowall&#34;&gt;Tearing Down
Cryptowall&lt;/a&gt;, Brian
Wallace, 4 November 2014.&lt;/p&gt;

&lt;p&gt;Amin Kharraz, William Robertson, Davide Balzarotti, Leyla Bilge, and
Engin Kirda.  &lt;a href=&#34;http://www.seclab.nu/static/publications/dimva2015ransomware.pdf&#34;&gt;&lt;em&gt;Cutting the Gordian Knot: A Look Under the Hood of
Ransomware
Attacks&lt;/em&gt;&lt;/a&gt;. DIMVA
2015.&lt;/p&gt;

&lt;p&gt;Shuang Hao, Kevin Borgolte, Nick Nikiforakis, Gianluca Stringhini,
Manuel Egele, Michael Eubanks, Brian Krebs, Giovanni Vigna. &lt;a href=&#34;https://www.cs.ucsb.edu/~vigna/publications/2015_CCS_ShippingMules.pdf&#34;&gt;&lt;em&gt;Drops for
Stuff: An Analysis of Reshipping Mule
Scams&lt;/em&gt;&lt;/a&gt;. ACM
Conference on Computer and Communications Security 2015.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 13: Law and Policy</title>
      <link>http://bitcoin-class.org/classes/class13/</link>
      <pubDate>Mon, 12 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class13/</guid>
      <description>

&lt;h2 id=&#34;schedule:af2ff3ef0db44829d3ff131eac0d7ec7&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt; &lt;strong&gt;Monday-Wednesday, October &lt;sup&gt;19&lt;/sup&gt;&amp;frasl;&lt;sub&gt;21&lt;/sub&gt;&lt;/strong&gt;: Midterm Exam.
Part of the midterm will be handed out in class on Monday, Oct 19. The
midterm will be in class on Wednesday, October 21.&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Today&amp;rsquo;s class was a visit from Tom Dukes on law and policy related to cryptocurrencies.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.law.virginia.edu/lawweb/faculty.nsf/FHPbI/1378405&#34;&gt;Tom Duke&amp;rsquo;s Bio&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The Congressional Research Service report he mentioned: &lt;a href=&#34;https://www.fas.org/sgp/crs/misc/R43339.pdf&#34;&gt;&lt;em&gt;Bitcoin:
Questions, Answers, and Analysis of Legal
Issues&lt;/em&gt;&lt;/a&gt;, 14 August
2015. This provides a good summary of US laws and regulations that apply
to bitcoin, and why Congress is interested in it.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 12: Script</title>
      <link>http://bitcoin-class.org/classes/class12/</link>
      <pubDate>Wed, 07 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class12/</guid>
      <description>

&lt;h2 id=&#34;schedule:bc216d98f3ca2300699af2d41b8a2a45&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt;
&lt;strong&gt;Read&lt;/strong&gt;: &lt;a href=&#34;http://bitcoin-class.org/docs/princeton-book/chapter_3.pdf&#34;&gt;&lt;em&gt;Chapter 3: Mechanics of Bitcoin&lt;/em&gt;&lt;/a&gt;, from
Arvind Narayanan, Joseph Bonneau, Edward Felten, Andrew Miller, Steven
Goldfeder. &lt;a href=&#34;https://piazza.com/princeton/spring2015/btctech/resources&#34;&gt;&lt;em&gt;Bitcoin and Cryptocurrency
Technologies&lt;/em&gt;&lt;/a&gt;.
Sections 3.2 and 3.3 are about bitcoin scripts, and should be read
carefully.  (You should read the whole chapter, but those sections are
most relevant to today&amp;rsquo;s class.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Friday, October 9&lt;/strong&gt;: Problem Set 2 (8:29pm).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Monday, October 19&lt;/strong&gt;: Midterm Exam&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/aQYiH6zGCIgxbO&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;caption&#34;&gt;
Sorry, ink markings were lost from today.  &lt;a href=&#34;http://bitcoin-class.org/classes/class12-post.pptx&#34;&gt;Download the slides&lt;/a&gt;
   &lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h1 id=&#34;hash-collisions:bc216d98f3ca2300699af2d41b8a2a45&#34;&gt;Hash Collisions!&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Computing a bitcoin address:&lt;/strong&gt; (&lt;a href=&#34;https://en.bitcoin.it/wiki/Technical_background_of_version_1_Bitcoin_addresses&#34;&gt;bitcoinwiki&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Private Key: pick a random number, &lt;em&gt;k&lt;/em&gt;.&lt;br /&gt;
Public Key: compute (&lt;em&gt;Ux&lt;/em&gt;, &lt;em&gt;Uy&lt;/em&gt;) = &lt;em&gt;Gk&lt;/em&gt;
&lt;div class=&#34;indented&#34;&gt;(elliptic curve multiplication, &lt;em&gt;G&lt;/em&gt; is specified generator point)&lt;/div&gt;
&lt;em&gt;Ux&lt;/em&gt; and &lt;em&gt;Uy&lt;/em&gt; are 32 bytes each.&lt;/p&gt;

&lt;p&gt;The bitcoin address is (|| is bitstring concatenation):&lt;br /&gt;
    &lt;div class=&#34;indented&#34;&gt;
    raw = &lt;code&gt;1&lt;/code&gt; || RIPEMD160(SHA256(&lt;em&gt;Ux&lt;/em&gt; || &lt;em&gt;Uy&lt;/em&gt;))&lt;br /&gt;
         &lt;div class=&#34;indented&#34;&gt;&lt;em&gt;RIPEMD output is 160 bits (20 bytes) + one byte for &lt;code&gt;1&lt;/code&gt;&lt;/em&gt;&lt;/div&gt;
    checksum = first 4 bytes of SHA256(SHA256(raw))  &lt;div class=&#34;indented&#34;&gt;&lt;em&gt;Compute a checksum using SHA256 double hash&lt;/em&gt;&lt;/div&gt;
    address = Base58Check(raw || checksum)  &lt;div class=&#34;indented&#34;&gt;&lt;em&gt;convert to printable, unambiguous characters&lt;/em&gt;&lt;/div&gt;
    &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;How important is pre-image resistance for the security of bitcoin addresses?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;How important is collision resistance for the security of bitcoin addresses?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;How important is pre-image resistance for the integrity of bitcoin&amp;rsquo;s proof-of-work?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;How important is collision resistance for the integrity of bitcoin&amp;rsquo;s proof-of-work?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Xiaoyun Wang and Hongbo Yu, &lt;a href=&#34;http://www.bitcoin-class.org/docs/hashcollisions.pdf&#34;&gt;&lt;em&gt;How to Break MD5 and Other Hash Functions&lt;/em&gt;&lt;/a&gt;, EuroCrypt 2005.&lt;/p&gt;

&lt;h1 id=&#34;bitcoin-script:bc216d98f3ca2300699af2d41b8a2a45&#34;&gt;Bitcoin Script&lt;/h1&gt;

&lt;p&gt;Transaction outputs in bitcoin are protected by &lt;em&gt;locking scripts&lt;/em&gt;, and
must be unlocked by &lt;em&gt;unlocking scripts&lt;/em&gt;.  The scripts are written in a
simple (compared to, say, the Java Virtual Machine language, but quite
complex and poorly specified for what one might expect would be needed
for bitcoin transactions) stack-based language.  A transaction output is
not unlocked unless an unlocking script is provided such that the result
of executing the unlocking script, followed by executing the locking
script, is a stack with value True on top (and no invalid transaction
results during the execution).&lt;/p&gt;

&lt;p&gt;Some script instructions:&lt;/p&gt;

&lt;p&gt;&lt;table cellpadding=5&gt;
   &lt;tr&gt;
   &lt;td align=&#34;center&#34;&gt;&lt;b&gt;Opcode&lt;/b&gt;&lt;/td&gt;&lt;td align=&#34;center&#34;&gt;&lt;b&gt;Input&lt;/b&gt;&lt;/td&gt;&lt;td align=&#34;center&#34;&gt;&lt;b&gt;Output&lt;/b&gt;&lt;/td&gt;&lt;td align=&#34;center&#34;&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_1&lt;/code&gt;&lt;/td&gt;&lt;td&gt; - &lt;/td&gt;&lt;td&gt; &lt;strong&gt;1&lt;/strong&gt; &lt;/td&gt;&lt;td&gt; Pushes a &lt;strong&gt;1&lt;/strong&gt; (True) on the stack &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_DUP&lt;/code&gt;&lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;em&gt;a&lt;/em&gt; &lt;/td&gt;&lt;td&gt; Duplicates the top element of the stack &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_ADD&lt;/code&gt;&lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;em&gt;b&lt;/em&gt; &lt;/td&gt;&lt;td&gt; (&lt;em&gt;a&lt;/em&gt;+&lt;em&gt;b&lt;/em&gt;) &lt;/td&gt;&lt;td&gt; Pushes the sum of the top two elements. &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_EQUAL&lt;/code&gt;&lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;em&gt;b&lt;/em&gt; &lt;/td&gt;&lt;td&gt; &lt;strong&gt;0&lt;/strong&gt; or &lt;strong&gt;1&lt;/strong&gt; &lt;/td&gt;&lt;td&gt; Pushes &lt;strong&gt;1&lt;/strong&gt; if the top two elements are exactly equal, otherwise &lt;strong&gt;0&lt;/strong&gt;. &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_VERIFY&lt;/code&gt; &lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;/td&gt;&lt;td&gt; - &lt;/td&gt;&lt;td&gt; If &lt;em&gt;a&lt;/em&gt; is not &lt;strong&gt;True&lt;/strong&gt; (&lt;strong&gt;1&lt;/strong&gt;), terminates as Invalid. &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_RETURN&lt;/code&gt;&lt;/td&gt;&lt;td&gt; - &lt;/td&gt;&lt;td&gt; - &lt;/td&gt;&lt;td&gt; Terminates as Invalid. &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_EQUALVERIFY&lt;/code&gt; &lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;em&gt;b&lt;/em&gt; &lt;/td&gt;&lt;td&gt; - &lt;/td&gt;&lt;td&gt; If &lt;em&gt;a&lt;/em&gt; and &lt;em&gt;b&lt;/em&gt; are not equal, terminates as Invalid. &lt;/td&gt;&lt;/tr&gt;
   &lt;tr&gt;&lt;td&gt;&lt;code&gt;OP_HASH160&lt;/code&gt; &lt;/td&gt;&lt;td&gt; &lt;em&gt;a&lt;/em&gt; &lt;/td&gt;&lt;td&gt; H(&lt;em&gt;a&lt;/em&gt;) &lt;/td&gt;&lt;td&gt; Pushes bitcoin address, RIPEMD160(SHA256(&lt;em&gt;a&lt;/em&gt;)). &lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/p&gt;

&lt;p&gt;Is the bitcoin scripting language Turing-complete?
&lt;div class=&#34;gap&#34;&gt;&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;If you are not clear on what Turing-complete means (and why real
machines are not ideal), see &lt;a href=&#34;http://www.dori-mic.org&#34;&gt;&lt;em&gt;Dori-Mic and the Universal
Machine!&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 11: More Mining</title>
      <link>http://bitcoin-class.org/classes/class11/</link>
      <pubDate>Wed, 30 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class11/</guid>
      <description>

&lt;h2 id=&#34;schedule:af81afa25b288e26509ba0728268a3b7&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt;
&lt;strong&gt;Wednesday, September 30&lt;/strong&gt;: Checkup 2 revisions (if desired), due at the beginning of class or end of office hours today.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Friday, October 9&lt;/strong&gt;: Problem Set 2 (moved from original deadline of
  October 2).  Problem Set 2 will be posted by tomorrow.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Monday, October 19&lt;/strong&gt;: Midterm Exam&lt;/p&gt;

&lt;p&gt;No classes Monday, October 5!
   &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/31bDBGxrcPo6b9&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;caption&#34;&gt;
Note: ink markings may not appear in the
embedded viewer.  To see them, &lt;a href=&#34;http://bitcoin-class.org/classes/class11.pptx&#34;&gt;download the slides&lt;/a&gt;.
   &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;

&lt;h1 id=&#34;notes:af81afa25b288e26509ba0728268a3b7&#34;&gt;Notes&lt;/h1&gt;

&lt;p&gt;If we have 20% of the network hashing power, calculate the proportion of blocks we will win if we mine selfishly. Do we come out ahead or behind?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;p&gt;Why does our formular for E not work for alpha greater than a half?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;p&gt;Compute the constant on slide 29, &amp;ldquo;Expected share reward&amp;rdquo;. You may have to look up the Taylor&amp;rsquo;s expansion series for natural logarithm.&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;!--page--&gt;

&lt;p&gt;Does mining in a pool increase your reward or decrease it? Explain.&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;p&gt;If a pool is paying out proportionally, and you are profiting by pool hopping in and out of it, is somebody else making a loss? Who and how?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Class 10: Subverting Bitcoin</title>
      <link>http://bitcoin-class.org/classes/class10/</link>
      <pubDate>Mon, 28 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class10/</guid>
      <description>

&lt;h2 id=&#34;schedule:cefb84ebc6e45e7105a37c4f4d413033&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt;
&lt;strong&gt;Wednesday, September 30&lt;/strong&gt;: Checkup 2 revisions (if desired), due at the beginning of class.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Friday, October 9&lt;/strong&gt;: Problem Set 2 (moved from original deadline of October 2).  Problem Set 2 will be posted later.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Monday, October 19&lt;/strong&gt;: Midterm Exam
   &lt;/div&gt;&lt;/p&gt;

&lt;h1 id=&#34;checkup-2:cefb84ebc6e45e7105a37c4f4d413033&#34;&gt;Checkup 2&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/checkup2.pdf&#34;&gt;Checkup 2 (PDF)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/tLGdRxu6IVVzni&#34; width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt; &lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;caption&#34;&gt;
Note: ink markings may not appear in the
embedded viewer.  To see them, &lt;a href=&#34;http://bitcoin-class.org/classes/class10.pptx&#34;&gt;download the slides&lt;/a&gt;.
   &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;

&lt;h1 id=&#34;notes:cefb84ebc6e45e7105a37c4f4d413033&#34;&gt;Notes&lt;/h1&gt;

&lt;p&gt;Why would a hypothetical cryptocurrency without miners not work? What is the
essential service rendered by a miner?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;p&gt;How does Bitcoin handle forks? What criteria does it use to decide the branch
to converge on?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;!--page--&gt;

&lt;p&gt;What is a Nash Equilibrium in a game? What is the equilibrium strategy in
a game of rock-paper-scissors?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;p&gt;What would happen to the bitcoin currency if everyone started mining selfishly?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Class 09: Economics of Mining</title>
      <link>http://bitcoin-class.org/classes/class9/</link>
      <pubDate>Wed, 23 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class9/</guid>
      <description>

&lt;h2 id=&#34;schedule:b1685b9d514e4fd02cc72721228d457c&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt;
&lt;strong&gt;Wednesday, September 23&lt;/strong&gt;: Checkup 2 (was originally scheduled for Monday, September 21).  See previous class notes for details on what is covered.&lt;br /&gt;
&lt;strong&gt;Friday, October 9&lt;/strong&gt;: Problem Set 2 (moved from original deadline of October 2).  Problem Set 2 will be posted later.
&lt;strong&gt;Monday, October 19&lt;/strong&gt;: Midterm Exam
   &lt;/div&gt;&lt;/p&gt;

&lt;h1 id=&#34;checkup-2:b1685b9d514e4fd02cc72721228d457c&#34;&gt;Checkup 2&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/checkup2.pdf&#34;&gt;Checkup 2 (PDF)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As was suggested in class today, there won&amp;rsquo;t be an immediate opportunity
to submit revisions for this (like there was for Checkup 1), but there
will be some opportunity to improve your checkup result given in
Monday&amp;rsquo;s class.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/sTwMIV59OWvurX&#34;
width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34;
marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt;&lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;caption&#34;&gt;
Note: ink markings may not appear in the
embedded viewer.  To see them, &lt;a href=&#34;http://bitcoin-class.org/classes/class9-post.pptx&#34;&gt;download the slides&lt;/a&gt;.
   &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;

&lt;h1 id=&#34;energy:b1685b9d514e4fd02cc72721228d457c&#34;&gt;Energy&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://en.bitcoin.it/wiki/Mining_hardware_comparison&#34;&gt;Mining Hardware&lt;/a&gt;
- current ASIC miners achive &amp;gt;5 Billion hashes per seconds and over 1500
Million hashes per Joule (the energy required to lift an apple one
meter).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://bitcointalk.org/index.php?topic=1152746.0&#34;&gt;Antminer S5+&lt;/a&gt;
(here&amp;rsquo;s the specs on the mining hardware we looked at in class)&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.thecoinsman.com/2014/08/bitcoin/inside-chinese-bitcoin-mine/&#34;&gt;&lt;em&gt;Inside a Chinese Bitcoin Mine&lt;/em&gt;&lt;/a&gt;, The Coinsman, 11 August 2014.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The first thing you notice as you approach the warehouse is the noise. It begins as soon as you step out of the car, at which point it sounds like massive swarm of angry bees droning away somewhere off in the distance. It becomes louder and louder the closer you get to the building, and as you step through the doors it becomes a deafening and steady roar&amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Our nearest nuclear plant, the &lt;a href=&#34;https://www.dom.com/corporate/what-we-do/electricity/generation/nuclear/north-anna-power-station&#34;&gt;North Anna Power
Station&lt;/a&gt;
(Lake Anna) generates 1892 MW, &amp;ldquo;enough to power 450,000 homes&amp;rdquo; or about
9x the amount needed to power the current bitcoin network (only counting
the miners themselves; additional power needed for cooling, etc.)&lt;/p&gt;

&lt;p&gt;Is it financially lucrative to mine bitcoin in your residencev?&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;

&lt;p&gt;(&lt;strong&gt;Caveat:&lt;/strong&gt; despite the very rough estimate from class today, we are
not recommending anyone invest in bitcoin mining!)&lt;/p&gt;

&lt;p&gt;How does the energy use of bitcoin compare to what is used by the
current financial infrastructure for comparable service?  (This is a
very difficult question to answer, would be a good project idea, not
something to answer in the blank below!)&lt;/p&gt;

&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Class 08: Mining</title>
      <link>http://bitcoin-class.org/classes/class8/</link>
      <pubDate>Mon, 21 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://bitcoin-class.org/classes/class8/</guid>
      <description>

&lt;h2 id=&#34;schedule:3a7d0da174b09b839e2f33e1cfd8fab3&#34;&gt;Schedule&lt;/h2&gt;

&lt;p&gt;&lt;div class=&#34;todo&#34;&gt;
&lt;strong&gt;Wednesday, September 23&lt;/strong&gt;: Checkup 2 (was originally scheduled for Monday, September 21).  See previous class notes for details on what is covered.&lt;br /&gt;
&lt;strong&gt;Friday, October 9&lt;/strong&gt;: Problem Set 2 (moved from original deadline of October 2).  Problem Set 2 will be posted later this week.&lt;br /&gt;
&lt;strong&gt;Monday, October 19&lt;/strong&gt;: Midterm Exam
   &lt;/div&gt;&lt;/p&gt;

&lt;h2 id=&#34;reminders:3a7d0da174b09b839e2f33e1cfd8fab3&#34;&gt;Reminders&lt;/h2&gt;

&lt;p&gt;You can &lt;a href=&#34;https://www.google.com/calendar/ical/rmjagdrnmu3a9h2q5199lg4t28%40group.calendar.google.com/public/basic.ics&#34;&gt;subscribe to the course
calendar&lt;/a&gt;.
This has updated information on deadlines and office hours.&lt;/p&gt;

&lt;p&gt;If you want to receive course website updates by email, you can
subscribe to the RSS feed using a RSS reader or an emailing service like
&lt;a href=&#34;https://www.feedmyinbox.com/&#34;&gt;feedmyinbox.com&lt;/a&gt; or
&lt;a href=&#34;http://blogtrottr.com/&#34;&gt;Blogtrottr&lt;/a&gt;.  The feed address is
&lt;a href=&#34;http://bitcoin-class.org/index.xml&#34;&gt;http://bitcoin-class.org/index.xml&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We generally will avoid sending out emails to the class, and will assume
you are observing the website closely.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/key/ir3gwqoaGyncK4&#34;
width=&#34;625&#34; height=&#34;400&#34; frameborder=&#34;2&#34; marginwidth=&#34;0&#34;
marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt;&lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;caption&#34;&gt;
Note: ink markings may not appear in the
embedded viewer.  To see them, &lt;a href=&#34;http://bitcoin-class.org/classes/class8-post.pptx&#34;&gt;download the slides&lt;/a&gt;.
   &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;/center&gt;&lt;/p&gt;

&lt;h1 id=&#34;exploring-blocks:3a7d0da174b09b839e2f33e1cfd8fab3&#34;&gt;Exploring Blocks&lt;/h1&gt;

&lt;table&gt;
&lt;tr&gt;&lt;td&gt;&lt;b&gt;Label&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Bytes&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;version&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;Block version information&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;prev_block&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;Hash of the previous block&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;merkle_root&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;Hash of Merkle tree of all transactions&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;timestamp&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;When block was created (overflows in 2106)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;bits&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;Difficulty target used for this block&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;nonce&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;Nonce found to generate this block&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;h1 id=&#34;merkle-trees:3a7d0da174b09b839e2f33e1cfd8fab3&#34;&gt;Merkle Trees&lt;/h1&gt;

&lt;p&gt;Ralph Merkle, &lt;a href=&#34;http://merkle.com/1974/&#34;&gt;&lt;em&gt;Publishing a New Idea&lt;/em&gt;&lt;/a&gt;.
Includes his &lt;a href=&#34;http://merkle.com/1974/FirstCS244projectProposal.pdf&#34;&gt;cs244 project
proposal&lt;/a&gt;
(&amp;ldquo;Discussion: No, I am not joking.&amp;ldquo;) and &lt;a href=&#34;http://merkle.com/1974/ExpertLetter.pdf&#34;&gt;ACM rejection
letter&lt;/a&gt; (&amp;ldquo;I am sorry to have to
inform you that the paper is not in the main stream of present
cryptography thinking and I would not recommend that it be
published&amp;hellip;&amp;ldquo;).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/btcsuite/btcd/blob/master/blockchain/merkle.go&#34;&gt;https://github.com/btcsuite/btcd/blob/master/blockchain/merkle.go&lt;/a&gt; (some comments removed)&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// HashMerkleBranches takes two hashes, treated as the left and right tree
// nodes, and returns the hash of their concatenation. 
func HashMerkleBranches(left *btcwire.ShaHash, right *btcwire.ShaHash) *btcwire.ShaHash {
   var sha [btcwire.HashSize * 2]byte
   copy(sha[:btcwire.HashSize], left.Bytes())
   copy(sha[btcwire.HashSize:], right.Bytes())
   newSha, _ := btcwire.NewShaHash(btcwire.DoubleSha256(sha[:]))
   return newSha
}

func BuildMerkleTreeStore(transactions []*btcutil.Tx) []*btcwire.ShaHash {
    nextPoT := nextPowerOfTwo(len(transactions))
    arraySize := nextPoT*2 - 1
    merkles := make([]*btcwire.ShaHash, arraySize)

    // Create the base transaction shas and populate the array with them.
    for i, tx := range transactions { merkles[i] = tx.Sha() }

    // Start the array offset after the last transaction and adjusted to the
    // next power of two.
    offset := nextPoT
    for i := 0; i &amp;lt; arraySize-1; i += 2 {
        switch {
           case merkles[i] == nil: 
              merkles[offset] = nil

           case merkles[i+1] == nil:
              newSha := HashMerkleBranches(merkles[i], merkles[i])
              merkles[offset] = newSha
       
           default:
              newSha := HashMerkleBranches(merkles[i], merkles[i+1])
              merkles[offset] = newSha
       }
       offset++
    }
    return merkles
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;http://bitcoin-class.org/classes/merkle.png&#34;&gt;&lt;img src=&#34;http://bitcoin-class.org/classes/merkle.png&#34; width=600&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is needed to verify &lt;span class=&#34;math&#34;&gt;T&lt;sub&gt;2&lt;/sub&gt;&lt;/span&gt; in &lt;span class=&#34;math&#34;&gt;H&lt;sub&gt;root&lt;/sub&gt;&lt;/span&gt;?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;What must be recomputed if &lt;span class=&#34;math&#34;&gt;T&lt;sub&gt;3&lt;/sub&gt;&lt;/span&gt; is replaced?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;What must be computed if a new node, &lt;span class=&#34;math&#34;&gt;T&lt;sub&gt;5&lt;/sub&gt;&lt;/span&gt;, is added?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;How many SHA-256 hashes must be computed to verify &lt;a href=&#34;https://blockexplorer.com/block/00000000000000000a02a2bf9d7b366e226160b8412830e6d72061ea7712d970&#34;&gt;Block 375474&lt;/a&gt;?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;h1 id=&#34;mining-cost:3a7d0da174b09b839e2f33e1cfd8fab3&#34;&gt;Mining Cost&lt;/h1&gt;

&lt;p&gt;The measured time to compute one SHA-256 hash on my EC2 node (2.5 GHz
processor) is 750 ns.  Approximately &lt;em&gt;how many instructions execute&lt;/em&gt; to
compute on SHA-256 hash?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Assumption.&lt;/strong&gt; SHA-256 produces a uniform random output.  (We know this
  is not really true, but it is a reasonable approximation, and
  necessary for the analysis.)  So, we can model SHA-256 on any (new)
  input &lt;span class=&#34;math&#34;&gt;&lt;em&gt;x&lt;/em&gt;&lt;/span&gt; as drawing randomly from 2&lt;sup&gt;256&lt;/sup&gt; possible outputs:&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;SHA-256(&lt;span class=&#34;math&#34;&gt;&lt;em&gt;x&lt;/em&gt;&lt;/span&gt;) &amp;larr; [0, 2&lt;sup&gt;256&lt;/sup&gt;)&lt;/p&gt;

&lt;p&gt;&lt;code&gt;$ Target = \frac{T_{max}}{Difficulty}$&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;$ T_{max} \approx 2^{224}$&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://bitcoinwisdom.com/bitcoin/difficulty&#34;&gt;Current Bitcoin Difficulty&lt;/a&gt; = 59,335,351,234&lt;/p&gt;

&lt;h1 id=&#34;energy:3a7d0da174b09b839e2f33e1cfd8fab3&#34;&gt;Energy&lt;/h1&gt;

&lt;p&gt;Why is energy/hash so much less for custom ASICs?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;In an ASIC, it is possible to build an XOR using 4 transistors.  How
many transistors have to flip to do an XOR on a general purpose
processor like an Intel i7?
&lt;div class=&#34;gap&#34;&gt;&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
